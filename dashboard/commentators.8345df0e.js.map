{"mappings":"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","sources":["src/dashboard/Commentators.tsx","src/dashboard/components/CollapseContainerItemList.tsx","src/dashboard/components/CollapseContainer.tsx"],"sourcesContent":["\r\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport styled from 'styled-components'\r\nimport { CommentatorData } from 'schemas/commentatorData';\r\nimport { createRoot } from 'react-dom/client';\r\nimport { Badge, ButtonWide, Fieldset, GridRow, Input, Checkbox, Row, Text } from './components/Layout';\r\nimport { useReplicant } from '@nodecg/react-hooks'\r\nimport { CollapseContainer } from './components/CollapseContainer';\r\nimport { CommentatorList, Commentator } from 'schemas/commentatorList';\r\nimport { cloneDeep, isEqual } from 'lodash';\r\nimport { useListControl } from '../helpers/hooks';\r\nimport { CollapseContainerItemList } from './components/CollapseContainerItemList';\r\n\r\nconst defaultCommentator: Commentator = { name: \"Commentator Name\", pronouns: \"any/all\", tag: \"@TagName\" }\r\nconst defaultCommentatorData: CommentatorData = {\r\n\tautoShow: true,\r\n\tdelay: 3000,\r\n\tautoHide: true,\r\n\tlifetime: 10000\r\n}\r\n\r\nconst maxCommentators = 2;\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nconst isCommentator = (item: any): item is Commentator => {\r\n\tif(!item) return false;\r\n\r\n\treturn item.name !== undefined \r\n\t&& item.pronouns !== undefined \r\n\t&& item.tag !== undefined;\r\n}\r\n\r\nexport function Commentators() {\r\n\r\n\t//const [commentatorDatabase, setCommentatorDatabase] = useReplicant<CommentatorList>('commentatorDatabase', { defaultValue: [] });\r\n\tconst [commentatorList, setCommentatorList] = useReplicant<CommentatorList>('commentatorList', { defaultValue: [] });\r\n\r\n\tconst [settings, setSettings] = useReplicant<CommentatorData>('commentatorSettings', { defaultValue: defaultCommentatorData });\r\n\r\n\tconst [dashboardCommentatorList, setDashboardCommentatorList] = useState<CommentatorList>([]);\r\n\tconst [dashboardSettings, setDashboardSettings] = useState<CommentatorData>(defaultCommentatorData);\r\n\r\n\tuseEffect(() => {\r\n\t\tif(!settings) return;\r\n\r\n\t\tsetDashboardSettings(cloneDeep(settings));\r\n\t}, [settings]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif(!commentatorList) return;\r\n\r\n\t\tsetDashboardCommentatorList(cloneDeep(commentatorList));\r\n\t}, [commentatorList]);\r\n\r\n\tconst { \r\n\t\taddItem, \r\n\t\tdelete: {\r\n\t\t\tdeleteItem,\r\n\t\t\tdeleteConfirmIndex\r\n\t\t}\r\n\t} = useListControl(dashboardCommentatorList, setDashboardCommentatorList, defaultCommentator, isCommentator);\r\n\t\r\n\tconst saveChanges = useCallback(() => {\r\n\t\tsetCommentatorList(dashboardCommentatorList);\r\n\t\tsetSettings(dashboardSettings);\r\n\t}, [dashboardCommentatorList, dashboardSettings, setCommentatorList, setSettings]);\r\n\r\n\tconst hasUnsavedChanges = useMemo(() => {\r\n\t\treturn !isEqual(commentatorList, dashboardCommentatorList) || !isEqual(settings, dashboardSettings);\r\n\t}, [commentatorList, dashboardCommentatorList, settings, dashboardSettings]);\r\n\r\n\tconst addToCredits = useCallback(() => {\r\n\t\tnodecg.sendMessage('commsCredits', dashboardCommentatorList);\r\n\t}, [dashboardCommentatorList]);\r\n\r\n\tconst showCommentators = useCallback(() => {\r\n\t\tnodecg.sendMessage('commsControl', true);\r\n\t}, []);\r\n\r\n\tconst hideCommentators = useCallback(() => {\r\n\t\tnodecg.sendMessage('commsControl', false);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<PanelContainer>\r\n\t\t\t<CollapseContainer title=\"Configuration\">\r\n\t\t\t\t<GridRow $height='4.5rem'>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Text>Show Automatically</Text>\r\n\t\t\t\t\t\t<Checkbox \r\n\t\t\t\t\t\t\t$checked={dashboardSettings.autoShow} \r\n\t\t\t\t\t\t\tonClick={() => setDashboardSettings((currentSettings) => { return { ...currentSettings, autoShow: !currentSettings.autoShow }; }) } />\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Fieldset $expand>\r\n\t\t\t\t\t\t<legend><Text>Show Delay Time (ms)</Text></legend>\r\n\t\t\t\t\t\t<Input type=\"number\"\r\n\t\t\t\t\t\t\t$expand\r\n\t\t\t\t\t\t\tvalue={dashboardSettings.delay} \r\n\t\t\t\t\t\t\tonChange={(event) => { setDashboardSettings((currentSettings) => { return { ...currentSettings, delay: Number(event.target.value) }; })  }}/>\r\n\t\t\t\t\t</Fieldset>\r\n\t\t\t\t</GridRow>\r\n\t\t\t\t<GridRow $height='4.5rem'>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Text>Hide Automatically</Text>\r\n\t\t\t\t\t\t<Checkbox \r\n\t\t\t\t\t\t\t$checked={dashboardSettings.autoHide} \r\n\t\t\t\t\t\t\tonClick={() => setDashboardSettings((currentSettings) => { return { ...currentSettings, autoHide: !currentSettings.autoHide }; }) } />\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Fieldset $expand>\r\n\t\t\t\t\t\t<legend><Text>Lifetime (ms)</Text></legend>\r\n\t\t\t\t\t\t<Input type=\"number\" \r\n\t\t\t\t\t\t\t$expand\r\n\t\t\t\t\t\t\tvalue={dashboardSettings.lifetime} \r\n\t\t\t\t\t\t\tonChange={(event) => { setDashboardSettings((currentSettings) => { return { ...currentSettings, lifetime: Number(event.target.value) }; }) }}/>\r\n\t\t\t\t\t</Fieldset>\r\n\t\t\t\t</GridRow>\r\n\t\t\t</CollapseContainer>\r\n\t\t\t<CollapseContainerItemList\r\n\t\t\t\tmaxHeight={500}\r\n\t\t\t\tlist={dashboardCommentatorList}\r\n\t\t\t\tsetList={setDashboardCommentatorList}\r\n\t\t\t\trenderTitle={(commentator) => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{commentator.name}\r\n\t\t\t\t\t\t{commentator.pronouns !== \"\" && (\r\n\t\t\t\t\t\t\t<Badge $colorTag='teal'>{commentator.pronouns}</Badge>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\trenderItem={(commentator, changeCommentator, index) => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Row $expand>\r\n\t\t\t\t\t\t\t<Fieldset $expand>\r\n\t\t\t\t\t\t\t\t<legend><Text>Name</Text></legend>\r\n\t\t\t\t\t\t\t\t<Input $expand type=\"text\" value={commentator.name} onChange={(event) => { changeCommentator({ name: event.target.value }); }} />\r\n\t\t\t\t\t\t\t</Fieldset>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row $expand>\r\n\t\t\t\t\t\t\t<Fieldset $expand>\r\n\t\t\t\t\t\t\t\t<legend><Text>Pronouns</Text></legend>\r\n\t\t\t\t\t\t\t\t<Input $expand type=\"text\" value={commentator.pronouns} onChange={(event) => { changeCommentator({ pronouns: event.target.value }); }} />\r\n\t\t\t\t\t\t\t</Fieldset>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row $expand>\r\n\t\t\t\t\t\t\t<Fieldset $expand>\r\n\t\t\t\t\t\t\t\t<legend><Text>Tag</Text></legend>\r\n\t\t\t\t\t\t\t\t<Input $expand type=\"text\" value={commentator.tag} onChange={(event) => { changeCommentator({ tag: event.target.value }); }} />\r\n\t\t\t\t\t\t\t</Fieldset>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<GridRow $height='2rem'>\r\n\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t<ButtonWide $colorTag={ deleteConfirmIndex === index ? 'dark-red' : 'red' } onClick={() => deleteItem(index) }>{ deleteConfirmIndex === index ? 'Confirm?' : 'Delete' }</ButtonWide>\r\n\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t</GridRow>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t\t<GridRow $height='56px'>\r\n\t\t\t\t<ButtonWide $expand={true} disabled={dashboardCommentatorList.length >= maxCommentators} $colorTag='green' onClick={() => { addItem(); }}>New Row</ButtonWide>\r\n\t\t\t\t<ButtonWide $expand={true} $colorTag={hasUnsavedChanges ? 'dark-red' : 'pink'} onClick={() => { saveChanges(); }}>{hasUnsavedChanges ? 'Save Changes' :  'Saved!'}</ButtonWide>\r\n\t\t\t\t<ButtonWide $expand={true} $colorTag='teal' onClick={() => { addToCredits(); }}>Add to Credits</ButtonWide>\r\n\t\t\t</GridRow>\r\n\t\t\t<Text>Manual Controls</Text>\r\n\t\t\t<GridRow $height='56px'>\t\r\n\t\t\t\t<ButtonWide $expand={true} $colorTag='purple' onClick={() => { showCommentators(); }}>Show Comms</ButtonWide>\r\n\t\t\t\t<ButtonWide $expand={true} $colorTag='purple' onClick={() => { hideCommentators(); }}>Hide Comms</ButtonWide>\r\n\t\t\t</GridRow>\r\n\t\t</PanelContainer>\r\n\t)\r\n}\r\n\r\nconst PanelContainer = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tgap: 5px;\r\n\tpadding: 5px 10px 12px;\r\n`;\r\n\r\nconst root = createRoot(document.getElementById('root')!);\r\nroot.render(<React.StrictMode><Commentators /></React.StrictMode>);","import React, { useCallback } from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\nimport { Text, Column, ButtonTiny } from \"./Layout\";\r\nimport { CollapseContainer } from \"./CollapseContainer\";\r\nimport { CaretUp, CaretDown } from \"@phosphor-icons/react\";\r\n\r\ninterface CollapseContainerItemListProps<T> {\r\n\tlist: T[];\r\n\tsetList: (newList: T[]) => void;\r\n\trenderTitle: (item: T, colorTag?: string | undefined) => React.ReactElement;\r\n\trenderItem: (item: T, changeItem: (partial: Partial<T>) => void, index: number, colorTag?: string | undefined) => React.ReactElement;\r\n\tgetColorTag?: (item: T) => string | undefined;\r\n\r\n\tmaxHeight?: number;\r\n\tcanSwapItems?: boolean;\r\n}\r\n\r\nexport const CollapseContainerItemList = <T,>({ list, setList, renderTitle, renderItem, maxHeight, canSwapItems = true, getColorTag = () => undefined }: CollapseContainerItemListProps<T>) => {\r\n\r\n\tconst moveItem = useCallback((itemIndex: number, moveForward: boolean) => {\r\n\t\tif((itemIndex <= 0 && !moveForward) || (itemIndex >= list.length - 1 && moveForward)) return;\r\n\r\n\t\tconst currentItem = list[itemIndex];\r\n\t\tconst swapIndex = itemIndex + (moveForward ? 1 : -1);\r\n\t\tconst swapItem = list[swapIndex];\r\n\r\n\t\tsetList(list.map((item, index) => {\r\n\t\t\tif(index === itemIndex) {\r\n\t\t\t\treturn swapItem;\r\n\t\t\t}\r\n\t\t\telse if(index === swapIndex) {\r\n\t\t\t\treturn currentItem;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn item;\r\n\t\t\t}\r\n\t\t}));\r\n\t}, [list, setList]);\r\n\r\n\tconst changeItem = useCallback((partialItem: Partial<T>, itemIndex: number) => {\r\n\t\tsetList(list.map((item, index) => {\r\n\t\t\tif(index !== itemIndex) return item;\r\n\r\n\t\t\treturn { ...item, ...partialItem };\r\n\t\t}))\r\n\t}, [list, setList]);\r\n\r\n\treturn (\r\n\t\t<ScrollContainer $maxHeight={maxHeight}>\r\n\t\t\t{list.length <= 0 && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Text>There are no entries!</Text>\r\n\t\t\t\t\t<Text>...unless you click the button to add one, perhaps!</Text>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t{list.map((listItem, index, array) => {\r\n\t\t\t\tconst colorTag = getColorTag(listItem);\r\n\t\t\t\tconst title = renderTitle(listItem, colorTag);\r\n\t\t\t\tconst item = renderItem(listItem, (partialItem: Partial<T>) => { changeItem(partialItem, index); }, index, colorTag);\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<CollapseContainer \r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tcolorTag={colorTag}\r\n\t\t\t\t\ttitle={(\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{canSwapItems && (\r\n\t\t\t\t\t\t\t\t<Column>\r\n\t\t\t\t\t\t\t\t\t<ButtonTiny $colorTag='blue' $border={true} disabled={index <= 0} onClick={() => { moveItem(index, false); }}><CaretUp weight='bold' /></ButtonTiny>\r\n\t\t\t\t\t\t\t\t\t<ButtonTiny $colorTag='red' $border={true} disabled={index >= array.length - 1} onClick={() => { moveItem(index, true); }}><CaretDown weight='bold' /></ButtonTiny>\r\n\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{title}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}>\r\n\t\t\t\t\t\t{item}\r\n\t\t\t\t\t</CollapseContainer>\r\n\t\t\t\t)\r\n\t\t\t})\r\n\r\n\t\t\t}\r\n\t\t</ScrollContainer>\r\n\r\n\t)\r\n}\r\n\r\nconst ScrollContainer = styled.div<{ $maxHeight?: number }>`\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\tpadding-right: 8px;\r\n\r\n\t& > div {\r\n\t\tmargin-bottom: 5px;\r\n\t}\r\n\r\n\t& > div:last-of-type {\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\r\n\t${({ $maxHeight }) => $maxHeight ? \r\n\tcss`\r\n\toverflow: auto;\r\n\tmax-height: ${$maxHeight}px;\r\n\t` : css``}\r\n`;","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { TransparentButton } from './Layout';\r\nimport { CaretDown, CaretUp } from '@phosphor-icons/react'\r\n\r\ninterface CollapseContainerProps {\r\n\ttitle: string | React.ReactElement;\r\n\tchildren: React.ReactNode;\r\n\tcolorTag?: string;\r\n}\r\n\r\nexport const CollapseContainer: React.FC<CollapseContainerProps> = ({ title, children, colorTag }) => {\r\n\tconst [collapsed, setCollapsed] = useState(true);\r\n\r\n\treturn (\r\n\t\t<Container $colorTag={colorTag}>\r\n\t\t\t<Header $colorTag={colorTag}>\r\n\t\t\t\t<Front>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</Front>\r\n\t\t\t\t<TransparentButton onClick={() => { setCollapsed(!collapsed); }}>\r\n\t\t\t\t\t{collapsed ? (<CaretDown />) : (<CaretUp />)}\r\n\t\t\t\t</TransparentButton>\r\n\t\t\t</Header>\r\n\t\t\t{!collapsed && ( <Content $colorTag={colorTag}> {children} </Content> )}            \r\n\t\t</Container>\r\n\t)\r\n};\r\n\r\nconst Container = styled.div<{ $colorTag?: string }>`\r\n\tposition: relative;\r\n\r\n\twidth: 100%;\r\n\tborder-radius: 0.5rem;\r\n\tbackground-color: var(--collapse${({ $colorTag }) => $colorTag ? `-${$colorTag}` : ``});\r\n`;\r\n\r\nconst Header = styled.div<{ $colorTag?: string }>`\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: 3px 8px;\r\n\tgap: 5px;\r\n\tborder-radius: 0.5rem;\r\n\tbackground-color: var(--collapse${({ $colorTag }) => $colorTag ? `-${$colorTag}` : ``});\r\n\tborder: 3px solid var(--collapse-${({ $colorTag }) => $colorTag ? `${$colorTag}-` : ``}border);\r\n`;\r\n\r\nconst Front = styled.div`\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: flex-start;\r\n\talign-items: center;\r\n\tgap: 5px;\r\n\tfont-size: 1.3rem;\r\n\tfont-weight: 700;\r\n`;\r\n\r\nconst Content = styled.div<{ $colorTag?: string }>`\r\n\tposition: relative;\t\r\n\tmargin-top: -8px;\r\n\tpadding: 10px 8px 5px;\r\n\tborder: 3px solid var(--collapse-${({ $colorTag }) => $colorTag ? `${$colorTag}-` : ``}border);\r\n\tborder-top: none;\r\n\tborder-radius: 0 0 0.5rem 0.5rem;\r\n`;"],"names":["React","useCallback","useEffect","useMemo","useState","styled","CommentatorData","createRoot","Badge","ButtonWide","Fieldset","GridRow","Input","Checkbox","Row","Text","useReplicant","CollapseContainer","CommentatorList","Commentator","cloneDeep","isEqual","useListControl","CollapseContainerItemList","defaultCommentator","name","pronouns","tag","defaultCommentatorData","autoShow","delay","autoHide","lifetime","maxCommentators","isCommentator","item","undefined","Commentators","commentatorList","setCommentatorList","defaultValue","settings","setSettings","dashboardCommentatorList","setDashboardCommentatorList","dashboardSettings","setDashboardSettings","addItem","delete","deleteItem","deleteConfirmIndex","saveChanges","hasUnsavedChanges","addToCredits","nodecg","sendMessage","showCommentators","hideCommentators","currentSettings","event","Number","target","value","commentator","changeCommentator","index","length","PanelContainer","div","withConfig","displayName","componentId","root","document","getElementById","render","css","Column","ButtonTiny","CaretUp","CaretDown","CollapseContainerItemListProps","list","T","setList","newList","renderTitle","colorTag","ReactElement","renderItem","changeItem","partial","Partial","getColorTag","maxHeight","canSwapItems","moveItem","itemIndex","moveForward","currentItem","swapIndex","swapItem","map","partialItem","listItem","array","title","ScrollContainer","$maxHeight","TransparentButton","CollapseContainerProps","children","ReactNode","FC","collapsed","setCollapsed","Container","$colorTag","Header","Front","Content"],"version":3,"file":"commentators.8345df0e.js.map","sourceRoot":"../"}