{"mappings":"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","sources":["src/dashboard/Credits.tsx","src/dashboard/components/NameList.tsx","src/dashboard/components/CollapseContainer.tsx","node_modules/@nodecg/react-hooks/esm/index.js","node_modules/@nodecg/react-hooks/src/index.ts","node_modules/@nodecg/react-hooks/esm/use-replicant.js","node_modules/@nodecg/react-hooks/src/use-replicant.ts","node_modules/klona/json/index.js","node_modules/@nodecg/react-hooks/esm/use-listen-for.js","node_modules/@nodecg/react-hooks/src/use-listen-for.ts"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\r\nimport styled from 'styled-components'\r\nimport NodeCG from '@nodecg/types';\r\nimport { CreditsData } from 'schemas';\r\nimport { createRoot } from 'react-dom/client';\r\nimport { NameList } from './components/NameList';\r\nimport { InputButton, InputLabel, InputRow, InputSection, InputSubheader } from './components/Layout';\r\nimport { useReplicant } from '@nodecg/react-hooks'\r\n\r\nexport function Credits() {\r\n\tconst [creditsData, setCreditsData] = useReplicant<CreditsData>('creditsData', { bundle: 'squidwest-layout-controls'});\r\n\r\n\tconst [setupTeam, setSetupTeam] = useState([\"\"]);\r\n\tconst [commentaryTeam, setCommentaryTeam] = useState([\"\"]);\r\n\tconst [techTeam, setTechTeam] = useState([\"\"]);\r\n\tconst [staffTeam, setStaffTeam] = useState([\"\"]);\r\n\tconst [headTO, setHeadTO] = useState([\"\"]);\r\n\tconst [poolCaptains, setPoolCaptains] = useState([\"\"]);\r\n\tconst [artTeam, setArtTeam] = useState([\"\"]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif(!creditsData) return;\r\n   \r\n\t\tsetSetupTeam(creditsData.setupTeam);\r\n\t\tsetCommentaryTeam(creditsData.commentaryTeam);\r\n\t\tsetTechTeam(creditsData.techTeam);\r\n\t\tsetStaffTeam(creditsData.staffTeam);\r\n\t\tsetHeadTO(creditsData.headTO);\r\n\t\tsetPoolCaptains(creditsData.poolCaptains);\r\n\t\tsetArtTeam(creditsData.artTeam);\r\n\t}, [creditsData]);\r\n\r\n\tconst onCommsCredits = useCallback(( value: string[] ) => {\r\n\t\tif(!value) return;\r\n\r\n\t\tlet newCommentaryTeam = commentaryTeam.slice();\r\n\r\n\t\tvalue.forEach((name) => {\r\n\t\t\tconst trimmed = name.trim();\r\n\r\n\t\t\tif(name === \"\") return;\r\n\r\n\t\t\tif(!newCommentaryTeam.includes(trimmed)) {\r\n\t\t\t\tnewCommentaryTeam.push(trimmed);\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tsetCommentaryTeam(newCommentaryTeam);\r\n\t}, [commentaryTeam, setCommentaryTeam]);\r\n\r\n\tuseEffect(() => {\r\n\t\tnodecg.listenFor('commsCredits', onCommsCredits)\r\n\r\n\t\treturn () => {\r\n\t\t\tnodecg.unlisten('commsCredits', onCommsCredits);\r\n\t\t}\r\n\t}, [onCommsCredits]);\r\n\t\r\n\tconst updateCreditsData = () => {\r\n\t\tlet newcreditsData: CreditsData = {\r\n\t\t\tsetupTeam: setupTeam,\r\n\t\t\tcommentaryTeam: commentaryTeam,\r\n\t\t\ttechTeam: techTeam,\r\n\t\t\tstaffTeam: staffTeam,\r\n\t\t\theadTO: headTO,\r\n\t\t\tpoolCaptains: poolCaptains,\r\n\t\t\tartTeam: artTeam\r\n\t\t};\r\n\r\n\t\tsetCreditsData(newcreditsData);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PanelContainer>\r\n\t\t\t<InputSection>\r\n\t\t\t\t<NameList title=\"Setup and Teardown Volunteers\" list={setupTeam} listUpdateHandler={setSetupTeam} />\r\n\t\t\t\t<NameList title=\"Commentary\" list={commentaryTeam} listUpdateHandler={setCommentaryTeam} />\r\n\t\t\t\t<NameList title=\"Stream Technicians\" list={techTeam} listUpdateHandler={setTechTeam} />\r\n\t\t\t\t<NameList title=\"Artists\" list={artTeam} listUpdateHandler={setArtTeam} />\r\n\t\t\t\t<NameList title=\"SquidWest TOs and Staff\" list={staffTeam} listUpdateHandler={setStaffTeam} />\r\n\t\t\t\t<NameList title=\"Head TO\" list={headTO} listUpdateHandler={setHeadTO} />\r\n\t\t\t\t<NameList title=\"Staff and Pool Captains\" list={poolCaptains} listUpdateHandler={setPoolCaptains} />\r\n\t\t\t</InputSection>\r\n\t\t\t<InputButton onClick={() => { updateCreditsData(); }}>Save</InputButton>\r\n\t\t</PanelContainer>\r\n\t)\r\n}\r\n\r\nconst PanelContainer = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n`;\r\n\r\nconst root = createRoot(document.getElementById('root')!);\r\nroot.render(<Credits />);","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { InputButtonSmall, InputLabel, InputRow, InputSubheader, CollapseButton } from './Layout';\r\nimport { CollapseContainer } from './CollapseContainer';\r\n\r\n//Title\r\ninterface NameListProps {\r\n    title: string,\r\n    list: string[],\r\n    listUpdateHandler: (newList: string[]) => void\r\n}\r\n\r\nexport const NameList: React.FC<NameListProps> = ({ title, list, listUpdateHandler }) => {\r\n\r\n    const setItemValue = (newValue: string, i: number) => {\r\n        listUpdateHandler(list.map((item, index) => { return (i === index) ? newValue : item; }));\r\n    };\r\n\r\n    const removeItem = () => {\r\n        listUpdateHandler(list.filter((item, index) => { return index < list.length - 1}));\r\n    }\r\n\r\n    const addItem = () => {\r\n        listUpdateHandler([ ...list, \"\"]);\r\n    }\r\n\r\n    return (\r\n        <CollapseContainer title={title}>\r\n            {list.map((item, i) => {\r\n                { return (\r\n                    <InputRow key={i}>\r\n                        <InputLabel>{(i + 1) + '.'}</InputLabel>\r\n                        <input type=\"string\" value={item} onChange={(event) => { setItemValue(event.target.value, i) }}/>\r\n                    </InputRow>\r\n                )}\r\n            })}\r\n            <AddRemoveList>\r\n                <InputButtonSmall onClick={() => { removeItem(); }}>-</InputButtonSmall>\r\n                <InputButtonSmall onClick={() => { addItem(); }}>+</InputButtonSmall>\r\n            </AddRemoveList>\r\n        </CollapseContainer>\r\n    )\r\n};\r\n\r\nconst AddRemoveList = styled.div`\r\n    grid-column: 2;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: left;\r\n    align-items: center;\r\n`;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { InputSubheader, CollapseButton } from './Layout';\r\nimport { CaretDown, CaretUp } from '@phosphor-icons/react'\r\n\r\n//Title\r\ninterface CollapseContainerProps {\r\n    title: string;\r\n\tchildren: React.ReactNode;\r\n}\r\n\r\nexport const CollapseContainer: React.FC<CollapseContainerProps> = ({ title, children }) => {\r\n    const [collapsed, setCollapsed] = useState(false);\r\n\r\n    return (\r\n        <Container>\r\n            <HeadRow>\r\n                <InputSubheader>{title}</InputSubheader>\r\n                <CollapseButton\r\n                    onClick={() => { setCollapsed(!collapsed); }}\r\n                >{collapsed ? (<CaretDown />) : (<CaretUp />)}</CollapseButton>\r\n            </HeadRow>\r\n            {!collapsed && (\r\n            <Container>\r\n                {children}\r\n            </Container>\r\n            )}            \r\n        </Container>\r\n    )\r\n};\r\n\r\nconst Container = styled.div`\r\n    display: contents;\r\n`;\r\n\r\nconst HeadRow = styled.div`\r\n    grid-column: 1 / -1;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n`;\r\n\r\nconst AddRemoveList = styled.div`\r\n    grid-column: 2;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: left;\r\n    align-items: center;\r\n`;\r\n",null,null,null,null,"function klona(val) {\n\tvar k, out, tmp;\n\n\tif (Array.isArray(val)) {\n\t\tout = Array(k=val.length);\n\t\twhile (k--) out[k] = (tmp=val[k]) && typeof tmp === 'object' ? klona(tmp) : tmp;\n\t\treturn out;\n\t}\n\n\tif (Object.prototype.toString.call(val) === '[object Object]') {\n\t\tout = {}; // null\n\t\tfor (k in val) {\n\t\t\tif (k === '__proto__') {\n\t\t\t\tObject.defineProperty(out, k, {\n\t\t\t\t\tvalue: klona(val[k]),\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tout[k] = (tmp=val[k]) && typeof tmp === 'object' ? klona(tmp) : tmp;\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t}\n\n\treturn val;\n}\n\nexports.klona = klona;",null,null],"names":[],"version":3,"file":"credits.ed845b9a.js.map","sourceRoot":"../"}